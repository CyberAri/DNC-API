<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNC-API</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 
</head>
<body>
    <div id="start1">
        <div class="star1">
            <div id="dncW">
                 <h1>DncWeather</h1>
            </div>
           
            <div id="end"> 
                <h2>Endereços</h2>
            </div>
            <div id="end2">
                <h2>Previsão do tempo</h2>
            </div>
        </div>
           
    </div>
    <div id="start2">
        <div>
            
            <p>Descubra Mais com Precisão: <br>
               Previsões do Tempo e endereços <br>
               em tempo real.</p>

              <div id="imag1">
                 <img src="imagens/img1.svg">  
              </div>
                 
        </div> 
    </div>
        <div id="form1">
            <form action="">
            <label for="primeiro nome">Primeiro Nome:</label><br>
            <input type="text" placeholder="Insira seu primeiro nome" id="insPriNome" value=""><br>

            <label for="E-mail">E-mail:</label><br>
            <input type="text" placeholder="Insira seu E-mail" id="e-mail" value="" ><br>

            <label for="digiteCep">Digite o CEP:</label><br>
            <input type="text" placeholder="Insira o CEP" id="cep" value=""required><br>

            <label for="digLatLong">Digite a latitude e longetude para saber a previsão:</label><br>
            <input type="text" id="lat"  value="" placeholder="latitude">
            <input type="text" id="long"  value="" placeholder="longitude"><br>
            <div>
                <button type="button" onclick="getAddressByCep(); getPrevisao()">Acessar</button>       
            </div>
          
            </form>
    
            <div>
                <h1>Resultado da busca por CEP:</h1>
            </div>
            <div id="imag2">
                 <img src="imagens/img2.svg" alt="">
            </div>
            <div id="part1">
                <div  class="part1">
                    <h2>Logradouro/nome</h2>
                    <h2>Bairo/Distrito</h2>
                    <h2>Localidade/UF</h2>
                </div>
            </div>
            <div id="part2">
                <div class="part2">
                    <input type="text" id="rua" placeholder="Rua" value=""> 
                    <input type="text" id="bairro" placeholder="Bairro" value=""> 
                    <input type="text" id="localidade" placeholder="localidade" value=""> 

                </div>  
                    <div id="part3">
                        <h1>Previsão do tempo na região:</h1>
                    </div>
                    <div id="img3">
                        <img src="imagens/imgNuv.svg" alt="">
                    </div>  
                    <div id="resposta1" >
                        <input type="text" id="previsao" placeholder="Previsão de tempo de acordo com a região: 24° C" value="">
                    </div>
                    <footer>
                        <div id="rodaPe">
                            <h2>Termos de Uso | Política de Privacidade</h2>
                        </div>
                    </footer>
            </div>               
       </div>     
</div>
<script>
        async function getAddressByCep() {
        const cep  = document.getElementById('cep').value;
    try {
         const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
         const data = await response.json();
         console.log(data);
         document.getElementById('rua').value = data. logradouro;
         document.getElementById('bairro').value = data. bairro;
         document.getElementById('localidade').value = data. localidade;
        }catch (error) {

    }
}

    async function getPrevisao(){
    const lat = document.getElementByid('latitude').value;
    const long = document.getElementById('longitude').value;
    try{
        const response = await fetch(`https://open-meteo.com/en/docs#latitude=${lat}&longitude=${long}&hourly=temperature_2m,rain&daily=temperature_2m_max,temperature_2m_min&timezone=America%2FSao_Paulo&past_days=1&forecast_days=1`);
        const data = await response.json();
        console.log(data);
        document.getElementById('previsao').value = data. previsao;
    }catch (error){ 
    }
}

</script>

</body>
</html>